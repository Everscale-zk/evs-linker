	.internal-alias :main_external,     -1
	.internal-alias :main_internal,     0
	.internal-alias :switch_selector,   1
	.internal-alias :authenticate,      2
	.internal-alias :parse_msg,         3
    .internal-alias :parse_internal_msg, 4
    .internal-alias :init_stack,        5

    .global-base        0
    .persistent-base    1000000

	.selector
	;s0 - selector
	;s1 - ...
	SETCP0
	DUP
    EQINT 1
	DICTPUSHCONST 32
    ROT
	PUSHCONT {
        DICTIGETJMP
	}
	IFNOTJMP
    PUSHREFCONT
	POPCTR c3
	ROT 
    DROP
	DICTIGETJMP

    .internal   :main_internal

    .internal   :main_external

